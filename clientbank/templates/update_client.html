{% extends 'base.html' %}
{% load static %}
{% block title %} Editar Perfil | AlphaPay {% endblock %}
{% block styles %} <link rel="stylesheet" href="{% static 'styles/update_client.css' %}"> {% endblock %}

{% block content %}
<main class="update-main">
    <!-- Header -->
    <section class="update-header">
        <a href="{% url 'profile' %}" class="btn-back">
            <i class="fa-solid fa-arrow-left"></i>
            Voltar ao Perfil
        </a>
        <div class="header-title">
            <h1>Editar Informações</h1>
            <p>Atualize seus dados pessoais</p>
        </div>
    </section>

    <!-- Formulário de Atualização -->
    <section class="update-form-section">
        <form method="POST" class="update-form">
            {% csrf_token %}
            
            <div class="form-section">
                <div class="section-header">
                    <i class="fa-solid fa-user"></i>
                    <h3>Informações Pessoais</h3>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="first_name">
                            <i class="fa-solid fa-user"></i>
                            Nome
                        </label>
                        <input 
                            type="text" 
                            id="first_name" 
                            name="first_name" 
                            value="{{ user.first_name }}"
                            placeholder="Digite seu nome"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="last_name">
                            <i class="fa-solid fa-user"></i>
                            Sobrenome
                        </label>
                        <input 
                            type="text" 
                            id="last_name" 
                            name="last_name" 
                            value="{{ user.last_name }}"
                            placeholder="Digite seu sobrenome"
                            required
                        >
                    </div>
                </div>

                <div class="form-group">
                    <label for="email">
                        <i class="fa-solid fa-envelope"></i>
                        E-mail
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        value="{{ user.email }}"
                        placeholder="seu@email.com"
                        required
                    >
                    <small class="form-hint">Este será seu novo e-mail de acesso</small>
                </div>
            </div>

            <div class="form-section">
                <div class="section-header">
                    <i class="fa-solid fa-address-book"></i>
                    <h3>Contato e Endereço</h3>
                </div>

                <div class="form-group">
                    <label for="phone_number">
                        <i class="fa-solid fa-phone"></i>
                        Telefone
                    </label>
                    <input 
                        type="tel" 
                        id="phone_number" 
                        name="phone_number" 
                        value="{{ account.phone_number }}"
                        placeholder="(00) 00000-0000"
                    >
                </div>

                <div class="form-group">
                    <label for="address">
                        <i class="fa-solid fa-location-dot"></i>
                        Endereço
                    </label>
                    <textarea 
                        id="address" 
                        name="address" 
                        rows="3"
                        placeholder="Rua, Número, Bairro, Cidade - Estado"
                    >{{ account.address }}</textarea>
                </div>
            </div>

            <div class="form-section readonly-section">
                <div class="section-header">
                    <i class="fa-solid fa-lock"></i>
                    <h3>Informações Não Editáveis</h3>
                </div>

                <div class="form-row">
                    <div class="form-group readonly">
                        <label>
                            <i class="fa-solid fa-id-card"></i>
                            CPF
                        </label>
                        <input 
                            type="text" 
                            value="{{ user.cpf }}"
                            readonly
                            disabled
                        >
                    </div>

                    <div class="form-group readonly">
                        <label>
                            <i class="fa-solid fa-building-columns"></i>
                            Número da Conta
                        </label>
                        <input 
                            type="text" 
                            value="{{ account.account_number }}"
                            readonly
                            disabled
                        >
                    </div>
                </div>

                <small class="readonly-note">
                    <i class="fa-solid fa-info-circle"></i>
                    Estas informações não podem ser alteradas por segurança
                </small>
            </div>

            <div class="form-actions">
                <a href="{% url 'profile' %}" class="btn-cancel">
                    <i class="fa-solid fa-times"></i>
                    Cancelar
                </a>
                <button type="submit" class="btn-save">
                    <i class="fa-solid fa-check"></i>
                    Salvar Alterações
                </button>
            </div>
        </form>
    </section>
</main>
{% endblock %}
